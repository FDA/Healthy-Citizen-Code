// Generated by Selenium IDE
const { Builder, By, Key, until } = require('selenium-webdriver')
const assert = require('assert')

describe('Opening SideBar pages', function() {
  this.timeout(30000)
  let driver
  let vars
  beforeEach(async function() {
    driver = await new Builder().forBrowser('chrome').build()
    vars = {}
  })
  afterEach(async function() {
    await driver.quit();
  })
  it('Login with valid credentials', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/login")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//form-header[@class=\'ng-scope\']")), 100000)
    await driver.findElement(By.id("login")).sendKeys("test2")
    await driver.findElement(By.id("password")).sendKeys("NJje@Vf6w")
    await driver.findElement(By.css("div:nth-child(3) > .ng-scope")).click()
    await driver.findElement(By.css(".btn")).click()
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 100000)
    assert(await driver.getTitle() == "My Profile | PAG Simulated Portal")
  })
  it('Open My FHIR Connections page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[contains(text(),\'My FHIR Connections\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "FHIR Connections | PAG Simulated Portal")
  })
  it('Open Questionnaire page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[@class=\'menu-item-parent\'][contains(text(),\'Questionnaire\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "Questionnaire | PAG Simulated Portal")
  })
  it('Open Adverse Events page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[contains(text(),\'Adverse Events\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "drugInteractions | PAG Simulated Portal")
  })
  it('Open UCSF Recalls Widgets page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[contains(text(),\'UCSF Recalls Widgets\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "drugInteractions | PAG Simulated Portal")
  })
  it('Open Recalls page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//li[6]//a[1]//span[1]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "drugInteractions | PAG Simulated Portal")
  })
  it('Open Drugs Visualization page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[contains(text(),\'Drugs Visualization\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "drugsVisualization | PAG Simulated Portal")
  })
  it('Open Drugs Interactions page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[contains(text(),\'Drug Interactions\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "drugInteractions | PAG Simulated Portal")
  })
  it('Open NDC Lookup page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[contains(text(),\'NDC Lookup\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "ndcLookup | PAG Simulated Portal")
  })
  it('Open Graph View Widget page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[contains(text(),\'Graph View Widget Example\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "graphViewWidget | PAG Simulated Portal")
  })
  it('Open Multiple Widget page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[contains(text(),\'Multiple Widgets Example\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "multipleWidgets | PAG Simulated Portal")
  })
  it('Open Preferences Widget page', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[contains(text(),\'Preferences Widget Example\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "User preferences | PAG Simulated Portal")
  })
  it('Open Health Advocate Widget page - NOT COMPLETED', async function() {
    await driver.get("https://pagweb-prototype-demo.conceptant.com/#/users")
    await driver.manage().window().setRect(1552, 840)
    await driver.wait(until.elementLocated(By.xpath("//span[@id=\'logo\']")), 30000)
    await driver.findElement(By.xpath("//span[contains(text(),\'Health Advocate Widget\')]")).click()
    await driver.wait(until.elementLocated(By.xpath("//div[@id=\'ribbon\']")), 150000)
    assert(await driver.getTitle() == "Health Advocate | PAG Simulated Portal")
  })
})
