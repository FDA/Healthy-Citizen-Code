{
  "models": {
    "widgets": {
      "type": "Schema",
      "fullName": "Widgets",
      "actions": {
        "fields": {
          "update": {
            "permissions": "accessAsUser"
          },
          "delete": {
            "permissions": "accessAsUser"
          },
          "clone": {
            "permissions": "accessAsUser"
          },
          "viewDetails": {
            "permissions": "accessAsUser"
          },
          "view": {
            "permissions": "accessAsUser"
          },
          "create": {
            "permissions": "accessAsUser"
          }
        }
      },
      "scopes": {
        "ownRecordScope": {
          "permissions": "accessAsUser",
          "where": "{$eq: ['$creator', this.req.user._id]}"
        }
      },
      "fields": {
        "id": {
          "type": "String",
          "fullName": "Widget Id",
          "description": "Widget ID",
          "formRender": {
            "formRenderer": "asIs"
          },
          "render": "asIs",
          "synthesize": "shortId7",
          "show": "$action !== 'create'",
          "unique": true
        },
        "name": {
          "type": "String",
          "fullName": "Widget Name",
          "description": "Name given to the instance of the widget",
          "required": true
        },
        "type": {
          "type": "String",
          "fullName": "Widget Type",
          "description": "Select the type of widget to configure",
          "required": true,
          "list": {
            "values": {
              "drugInteraction": "drugInteraction",
              "questionnaire": "questionnaire",
              "adverseEvents": "adverseEvents",
              "recalls": "recalls",
              "drugsVisualization": "drugsVisualization",
              "ndcLookup": "ndcLookup",
              "adverseEventsAlt": "adverseEventsAlt",
              "graphViewWidget": "graphViewWidget",
              "preferences": "preferences"
            },
            "scopes": {
              "userScope": {
                "permissions": {
                  "view": "accessAsUser"
                },
                "where": "return true",
                "return": "return $list"
              }
            }
          }
        },
        "fontSize": {
          "type": "Number",
          "fullName": "Font Size",
          "description": "Font size in pixels to apply to text",
          "list": {
            "values": {
              "12": "12",
              "13": "13",
              "14": "14",
              "16": "16",
              "18": "18",
              "20": "20",
              "22": "22",
              "24": "24",
              "26": "26",
              "28": "28"
            },
            "scopes": {
              "userScope": {
                "permissions": {
                  "view": "accessAsUser"
                },
                "where": "return true",
                "return": "return $list"
              }
            }
          }
        },
        "fontFace": {
          "fullName": "Font Type",
          "description": "Type of font applied to text",
          "list": {
            "values": {
              "Arial": "Arial",
              "Helvetica": "Helvetica",
              "Times New Roman": "Times New Roman",
              "Verdana": "Verdana",
              "Georgia": "Georgia",
              "Garamond": "Garamond",
              "Palatino": "Palatino",
              "Bookman": "Bookman",
              "Comic Sans MS": "Comic Sans MS",
              "Impact": "Impact",
              "Courier": "Courier"
            },
            "scopes": {
              "userScope": {
                "permissions": {
                  "view": "accessAsUser"
                },
                "where": "return true",
                "return": "return $list"
              }
            }
          }
        },
        "fontStyle": {
          "type": "String[]",
          "fullName": "Font Style",
          "description": "Font style applied to text",
          "list": {
            "values": {
              "bold": "bold",
              "italic": "italic",
              "underline": "underline",
              "strikeout": "strikeout",
              "none": "none"
            },
            "scopes": {
              "userScope": {
                "permissions": {
                  "view": "accessAsUser"
                },
                "where": "return true",
                "return": "return $list"
              }
            }
          }
        },
        "welcomeText": {
          "type": "String",
          "fullName": "Questionnaire Welcome Text",
          "description": "Text presented at the beginning of a  questionnaire",
          "show": "row['type']=='questionnaire'",
          "showInDatatable": false
        },
        "thankYouText": {
          "type": "String",
          "fullName": "Questionnaire Completion Text",
          "description": "Text presented upon completion of a questionnaire",
          "show": "row['type']=='questionnaire'",
          "showInDatatable": false
        },
        "attractionForce": {
          "type": "Number",
          "fullName": "Attraction Force",
          "show": "row['type']=='drugsVisualization'",
          "showInDatatable": false
        },
        "repulsionForce": {
          "type": "Number",
          "fullName": "Repulsion Force",
          "show": "row['type']=='drugsVisualization'",
          "showInDatatable": false
        },
        "showDiagnosis": {
          "type": "Boolean",
          "fullName": "Show Diagnosis",
          "show": "row['type']=='drugsVisualization'",
          "showInDatatable": false
        },
        "showIngredients": {
          "type": "Boolean",
          "fullName": "Show Ingredients",
          "show": "row['type']=='drugsVisualization'",
          "showInDatatable": false
        },
        "showPharmaClass": {
          "type": "Boolean",
          "fullName": "Show Pharma Class",
          "show": "row['type']=='drugsVisualization'",
          "showInDatatable": false
        },
        "showPhysiologicEffect": {
          "type": "Boolean",
          "fullName": "Show Physiologic Effect",
          "show": "row['type']=='drugsVisualization'",
          "showInDatatable": false
        },
        "dataSource": {
          "type": "String",
          "fullName": "Data source",
          "description": "Patient data source selector",
          "list": {
            "values": {
              "userPreferences": "User Preferences",
              "stu3": "STU3",
              "dstu2": "DSTU2"
            },
            "scopes": {
              "userScope": {
                "permissions": {
                  "view": "accessAsUser"
                },
                "where": "return true",
                "return": "return $list"
              }
            }
          }
        },
        "stu3Url": {
          "type": "String",
          "fullName": "STU3 Fhir url",
          "description": "STU3 Fhir url",
          "required": true,
          "show": "row['dataSource']=='stu3'"
        },
        "dstu2Url": {
          "type": "String",
          "fullName": "DSTU2 Fhir url",
          "description": "DSTU2 Fhir url",
          "required": true,
          "show": "row['dataSource']=='dstu2'"
        },
        "fhirDataImport": {
          "type": "Boolean",
          "fullName": "FHIR data import",
          "description": "Select to allow pulling data from a FHIR server",
          "show": "row['type']=='preferences'"
        }
      }
    }
  },
  "interface": {
    "app": {
      "fullName": "App",
      "auth": {
        "requireAuthentication": false,
        "enableAuthentication": true,
        "enableRegistration": true,
        "enablePermissions": true,
        "enableUserPasswordReset": false,
        "enableMfa": false,
        "requireMfa": false
      },
      "title": "Widget Manager",
      "slogan": "Manage Widgets with HC",
      "name": "WidgetManager",
      "description": "HC Widget Manager",
      "keywords": "Widget, Manager, HC",
      "theme": "default",
      "header": {
        "visible": true,
        "components": {
          "logo": true,
          "alerts": false,
          "projectSelector": false,
          "languageSelector": false,
          "fullScreenToggle": true,
          "search": false,
          "logoutButton": true,
          "menuToggle": false
        }
      },
      "footer": {
        "visible": true,
        "components": {
          "copyright": true,
          "copyrightText": "Healthy Citizen, 2017-2018",
          "lastAccountActivity": false,
          "status": false
        }
      }
    },
    "mainMenu": {
      "type": "Menu",
      "fullName": "Main Menu",
      "default": "/widgets",
      "fields": {
        "widgets": {
          "type": "MenuItem",
          "fullName": "Widgets",
          "link": "/widgets",
          "icon": {
            "type": "font-awesome",
            "link": "fire"
          }
        }
      }
    }
  }
}
